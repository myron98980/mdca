
---

type AnnouncementFlyer = {
    src: string;
    alt: string;
};

// --- DATOS ---
const facebookPageUrl = "https://www.facebook.com/MunicipalidadDeCerroAzul";

// Volvemos a usar tus imágenes locales
const announcementFlyers: AnnouncementFlyer[] = [
    { src: "https://www.municerroazul.gob.pe/muni-resources/img/pop/03-Amnistia.jpg", alt: "Anuncio de Rendición de Cuentas 2025" },
    { src: "https://www.municerroazul.gob.pe/muni-resources/img/noticias/SEMANA_DEL_TURISMO.jpeg", alt: "Anuncio de Campaña de Salud" },
    { src: "https://www.municerroazul.gob.pe/muni-resources/img/noticias/EMERGENCIAS.jpeg", alt: "Anuncio de Evento Cultural" },
    { src: "https://www.municerroazul.gob.pe/muni-resources/img/noticias/MIMP-1.jpeg", alt: "Anuncio de Amnistía Tributaria" }, 
];
---

<section class="bg-white py-16 px-4">
    <div class="container mx-auto">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">

            <!-- Columna Izquierda: REDES SOCIALES -->
            <div>
                <h2 class="text-2xl font-bold text-[#00446b] mb-4 border-b-2 border-gray-200 pb-2">REDES SOCIALES</h2>
                <!-- 
                    CAMBIO CLAVE 1:
                    Añadimos `p-1` (padding) para crear un pequeño margen y `overflow-hidden` para ocultar los bordes de Facebook.
                -->
                <div class="w-full h-[650px] bg-blue-50 rounded-lg shadow-inner overflow-hidden flex justify-center items-center p-1">
                    <div class="w-full max-w-[500px] h-full">
                        <div 
                            class="fb-page" 
                            data-href={facebookPageUrl}
                            data-tabs="timeline" 
                            data-height="650" 
                            data-width="500"
                            data-small-header="false" 
                            data-adapt-container-width="true" 
                            data-hide-cover="false" 
                            data-show-facepile="true">
                            <blockquote cite={facebookPageUrl} class="fb-xfbml-parse-ignore">
                                <a href={facebookPageUrl}>Municipalidad Distrital de Cerro Azul</a>
                            </blockquote>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Columna Derecha: ANUNCIOS -->
            <div>
                <h2 class="text-2xl font-bold text-[#00446b] mb-4 border-b-2 border-gray-200 pb-2">ANUNCIOS</h2>
                <div class="swiper-anuncios relative rounded-lg overflow-hidden bg-blue-50 h-[650px] shadow-inner">
                    <div class="swiper-wrapper">
                        {announcementFlyers.map(flyer => (
                            <div class="swiper-slide">
                                <!-- 
                                    CAMBIO CLAVE 2:
                                    Volvemos a `object-contain` para que la imagen siempre se vea completa, sin recortar.
                                -->
                                <img src={flyer.src} alt={flyer.alt} class="w-full h-full object-contain" />
                            </div>
                        ))}
                    </div>
                    <div class="swiper-button-next text-white drop-shadow-md"></div>
                    <div class="swiper-button-prev text-white drop-shadow-md"></div>
                    <div class="swiper-pagination"></div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    import Swiper from 'swiper';
    import { Navigation, Pagination, Autoplay } from 'swiper/modules';
    import 'swiper/css';
    import 'swiper/css/navigation';
    import 'swiper/css/pagination';

    new Swiper('.swiper-anuncios', {
        modules: [Navigation, Pagination, Autoplay],
        loop: true,
        autoplay: { delay: 5000, disableOnInteraction: false },
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        },
        pagination: {
            el: '.swiper-pagination',
            clickable: true,
        },
    });
</script>

<style>
    /* Estilos para el plugin de Facebook y Swiper */
    .swiper-anuncios .swiper-pagination-bullet { 
        background-color: white; 
        opacity: 0.6; 
    }
    .swiper-anuncios .swiper-pagination-bullet-active { 
        opacity: 1; 
    }
</style>